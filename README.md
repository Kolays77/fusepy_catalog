# fusepy_catalog


Реализация псевдофайловой системы на базе FUSE

Файловая система — каталогизатор. Сразу после монтировании в ФС имеется только папка «All». При помещении в него файла `foo` вида:

```
Artist: ABBA
Album: Super Trouper
Title: The Winner Takes It All
<пустая строка>
<любое содержимое>

```

Должны появиться файлы `by Artist/A/ABBA/foo`, `by Album/S/Super Trouper/foo` и `by Title/W/The Winner Takes It All/foo` (обратите внимание на проглоченное «The») с таким же содержимым. Если такие файлы уже существуют, новые файлы должны создаваться с уникальными именами — так, чтобы доступны были и старые файлы, и новые.

Явное удаление любого файла из любого каталога удаляет все связанные. Явно удалять каталоги нельзя, они появляются и исчезают только автоматически. Изменение файла в момент закрытия файлового дескриптора вызывает перерасчёт связанных файлов. Изменять можно любую связанную копию файла.
